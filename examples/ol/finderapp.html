<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>nyc.Choice Example</title>
  <link rel="stylesheet" href="../../css/nyc-lib.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="../../js/nyc-lib.js"></script>
	<style>
	</style>
</head>
<body class="loading">
	<script>
    new nyc.ol.FinderApp({
      title: 'Pre-K Finder',
      facilityTabTitle: 'Schools',
      facilityUrl: '../data/pka.csv',
      facilityFormat: new nyc.ol.format.CsvPoint({
        x: 'X',
        y: 'Y',
        defaultDataProjection: 'EPSG:2263'
      }),
      filterChoiceOptions: [
        {
          title: 'Day Length',
          choices: [
            {name: 'DAY_LENGTH', values: ['1', '2', '5', '7'], label: 'full day', checked: true},
      			{name: 'DAY_LENGTH', values: ['3', '6', '7'], label: 'half day', checked: true},
      			{name: 'DAY_LENGTH', values: ['4', '5', '6', '7'], label: '5-hour', checked: true}
          ]
        }
      ],
      decorations: [{
        getName: function() {
          return this.get('NAME')
        },
        html: function() {
          const html = $('<div></div>')
            .append(this.nameHtml())
            .append(this.mapButton())
            .append(this.directionsButton())
          return html;
        }
      }]
    });
	</script>
</body>
</html>
