<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>OpenLayers Example</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.min.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.19.1/ol.css" rel="stylesheet">
	<!-- nyc css -->
	<link rel="stylesheet" href="../src/main/css/control-common.css"> 
	<link rel="stylesheet" href="../src/main/css/dialog.css"> 
	<link rel="stylesheet" href="../src/main/css/zoomsearch.css"> 
	<link rel="stylesheet" href="../src/main/css/layerfade.css"> 
	<link rel="stylesheet" href="../src/main/css/layermgr.css"> 
	<link rel="stylesheet" href="../src/main/css/layerswipe.css"> 
	<link rel="stylesheet" href="../src/main/css/mapmenu.css"> 
	<!-- nyc css -->

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.19.1/ol.js"></script>
	<!-- nyc js -->
	<script src="../src/main/js/nyc/nyc.js"></script>
	<script src="../src/main/js/nyc/dialog.js"></script>
	<script src="../src/main/js/nyc/collapsible.js"></script>
	<script src="../src/main/js/nyc/collapsible-choice.js"></script>
	<script src="../src/main/js/nyc/collapsible-check.js"></script>
	<script src="../src/main/js/nyc/collapsible-radio.js"></script>
	<script src="../src/main/js/nyc/jq.js"></script>
	<script src="../src/main/js/nyc/locate.js"></script>
	<script src="../src/main/js/nyc/locationmgr.js"></script>
	<script src="../src/main/js/nyc/menu.js"></script>
	<script src="../src/main/js/nyc/geocoder.js"></script>
	<script src="../src/main/js/nyc/zoomsearch.js"></script>
	<script src="../src/main/js/nyc/ol/ol.js"></script>
	<script src="../src/main/js/nyc/ol/basemap.js"></script>
	<script src="../src/main/js/nyc/ol/locate.js"></script>
	<script src="../src/main/js/nyc/ol/locator.js"></script>
	<script src="../src/main/js/nyc/ol/control/layerpicker.js"></script>
	<script src="../src/main/js/nyc/ol/control/layerfade.js"></script>
	<script src="../src/main/js/nyc/ol/control/layermgr.js"></script>
	<script src="../src/main/js/nyc/ol/control/layerswipe.js"></script>
	<script src="../src/main/js/nyc/ol/control/zoomsearch.js"></script>
	<!-- nyc js -->
	
	<style>
		#map {
			position: fixed;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
		}
		#btn-fade {
			right: 44px;
		} 
		#btn-swipe {
			right: 85px;
		} 
	</style>
</head>
<body>
	<div id="map"></div>
	<script>
		var map, fade, swipe, lyrMgr;
		
		$(document).ready(function(){			
			map = new nyc.ol.Basemap({target: $('#map').get(0)});

			var source = new ol.source.Vector();
			var layer = new ol.layer.Vector({source: source});
			map.addLayer(layer);
			
			/* See README.md for getting your GeoClient App Id and App Key */
			var geocoder = new nyc.Geoclient(
				'https://maps.nyc.gov/geoclient/v1/search.json?app_key=YOUR_APP_KEY&app_id=YOUR_APP_ID'
			);

			new nyc.LocationMgr({
				controls: new nyc.ol.control.ZoomSearch(map),
				locate: new nyc.ol.Locate(geocoder),
				locator: new nyc.ol.Locator({map: map, layer: layer})
			});

			swipe = new nyc.ol.control.LayerSwipe({map: map});
			lyrMgr = new nyc.ol.control.LayerMgr({map: map});
			fade = new nyc.ol.control.LayerFade({map: map});

 			$('#btn-swipe, #btn-layer-mgr').click(function(){
 				fade.cancel();
 			});
 			$('#btn-fade, #btn-layer-mgr').click(function(){
 				swipe.cancel();
 			});
 			$('#btn-swipe, #btn-fade').click(function(){
 				lyrMgr.clear();
 			});
		});
	</script>
</body>
</html>
