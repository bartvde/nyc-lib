<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

	<title>OpenLayers Example</title>

	<style>
		html, body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
			overflow: hidden;
		}
		iframe {
			position: fixed;
			left: 20px;
			top: 20px;
			width: calc(100% - 40px);
			height: calc(100% - 40px);
			border: none;
			overflow: hidden;
		}
		div {
			position: fixed;
			bottom: 3px;
			left: 20px;
			font-size: 10px;
			font-family: Arial;
		}
	</style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.3.2/ol.js"></script>
	<!-- nyc js -->
	<script src="../src/main/js/nyc/ol/source/csv.js"></script>
	<!-- nyc js -->
	<script>
		var MAP_CONFIG = /** @type {nyc.template.facility.MapConfig} */ {
			url: 'https://data.cityofnewyork.us/api/views/5pbr-mxtd/rows.csv?accessType=DOWNLOAD',
			geomParser: new nyc.ol.source.socrata.PointParser('Location 1'),
			projection: 'EPSG:4326',
			icon: {stroke: 'blue', fill: 'rgba(0,0,255,0.5)'},
			/* See README.md for getting your GeoClient App Id and App Key */
			geoclientAppId: 'nyc-lib-example',
			geoclientAppKey: '74DF5DB1D7320A9A2',
			htmlRow: function(){
				return '<tr><td>' + this.get('name') + '</td></tr>';
			}
		};
	</script>
</head>
<body>
	<iframe src="ol-facility-iframe.html"></iframe>
	<div>See <a href="../doc/nyc.template.facility.html#.MapConfig">nyc.template.facility.MapConfig</a> for configuration details</div>
</body>
</html>